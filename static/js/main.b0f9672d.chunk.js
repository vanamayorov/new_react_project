(this["webpackJsonprw-update-with-good-context"]=this["webpackJsonprw-update-with-good-context"]||[]).push([[0],{11:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),l=a(1),c=a.n(l);a(9);class i extends o.a.Component{constructor(){super(),this.state={willWatch:!1}}render(){const e=this.props,t=e.movie,a=e.removeMovie,s=e.addMovieToWillWatch,l=e.removeMovieFromWillWatch;return o.a.createElement("div",{className:"card"},o.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(t.backdrop_path||t.poster_path),alt:""}),o.a.createElement("div",{className:"card-body"},o.a.createElement("h6",{className:"card-title"},t.title),o.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},o.a.createElement("p",{className:"mb-0"},"Rating: ",t.vote_average)),o.a.createElement("div",{className:"d-flex justify-content-end align-items-center mt-3"},this.state.willWatch?o.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>{this.setState({willWatch:!1}),l(t)}},"Remove Watch"):o.a.createElement("button",{type:"button",className:"btn btn-success btn-sm",onClick:()=>{this.setState({willWatch:!0}),s(t)}},"Add Watch"),o.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm mx-2",onClick:()=>a(t)},o.a.createElement("span",{className:"material-icons"},"delete_forever")))))}}var n=i;const r="https://api.themoviedb.org/3",m="3f4ca4f3a9750da53450646ced312397";var d=e=>{const t=e.sort_by,a=e.updateSortBy,s=e.page,l=e.updatePage,c=e.data,i=e=>()=>{a(e)},n=e=>"nav-link ".concat(t===e?"active":"");return o.a.createElement("div",null,o.a.createElement("div",{className:"d-flex align-items-center mb-3"},o.a.createElement("div",null,o.a.createElement("button",{type:"button",className:"btn\n          ".concat(1===s?"btn-secondary disabled":"btn-dark"),onClick:()=>{l(1)}},"First Page")),o.a.createElement("div",null,o.a.createElement("button",{type:"button",className:"btn  mx-3\n          ".concat(1===s?"btn-secondary disabled":"btn-primary"),onClick:(r=s,()=>{if(1===r)return!1;l(r-1)})},"Previous")),o.a.createElement("div",{className:"d-flex align-items-center",style:{fontSize:"16px"}},o.a.createElement("p",{className:"mx-3 pt-2"},"Current Page: ",s)),o.a.createElement("div",{className:"ml-4"},o.a.createElement("button",{type:"button",className:"btn btn-primary mx-3",onClick:(e=>()=>{l(e+1)})(s)},"Next")),o.a.createElement("p",{className:"pt-2"},"Total Pages: ",c.total_pages)),o.a.createElement("ul",{className:"tabs nav nav-pills"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("div",{className:n("popularity.desc"),onClick:i("popularity.desc"),style:{cursor:"pointer"}},"Popularity desc")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("div",{className:n("revenue.desc"),onClick:i("revenue.desc"),style:{cursor:"pointer"}},"Revenue desc")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("div",{className:n("vote_average.desc"),onClick:i("vote_average.desc"),style:{cursor:"pointer"}},"Vote average desc"))));var r};class v extends o.a.Component{constructor(){super(),this.updatePage=e=>{this.setState({page:e})},this.removeMovie=e=>{const t=this.state.movies.filter(t=>t.id!==e.id);this.setState({movies:t}),this.removeMovieFromWillWatch(e)},this.addMovieToWillWatch=e=>{const t=[...this.state.moviesWillWatch,e];this.setState({moviesWillWatch:t})},this.removeMovieFromWillWatch=e=>{const t=this.state.moviesWillWatch.filter(t=>t.id!==e.id);this.setState({moviesWillWatch:t})},this.updateSortBy=e=>{this.setState({sort_by:e})},this.state={movies:[],moviesWillWatch:[],sort_by:"popularity.desc",page:1,data:""}}componentDidMount(){fetch("".concat(r,"/discover/movie?api_key=").concat(m,"&sort_by=").concat(this.state.sort_by,"&page=").concat(this.state.page,"&region=ru")).then(e=>(console.log("response",e),e.json())).then(e=>{console.log("data",e),console.log("page",e.page),this.setState({movies:e.results,data:e})})}componentDidUpdate(e,t){t.sort_by===this.state.sort_by&&t.page===this.state.page||fetch("".concat(r,"/discover/movie?api_key=").concat(m,"&sort_by=").concat(this.state.sort_by,"&page=").concat(this.state.page,"&region=ru")).then(e=>(console.log("response",e),e.json())).then(e=>{console.log("data",e),console.log("page",e.page),this.setState({movies:e.results,data:e})})}render(){return console.log(this.state.page),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row mt-4"},o.a.createElement("div",{className:"col-12 mb-4"},o.a.createElement(d,{sort_by:this.state.sort_by,updateSortBy:this.updateSortBy,page:this.state.page,updatePage:this.updatePage,data:this.state.data})),o.a.createElement(p,{movies:this.state.movies,appThis:this,addMovieToWillWatch:this.addMovieToWillWatch,removeMovieFromWillWatch:this.removeMovieFromWillWatch,removeMovie:this.removeMovie}),o.a.createElement("div",{className:"col-4 col-sm-3 mt-4"},o.a.createElement("h4",null,"Will Watch: ",this.state.moviesWillWatch.length,o.a.createElement("br",null)," movies"),o.a.createElement("ul",{className:"list-group"},this.state.moviesWillWatch.map(e=>o.a.createElement("li",{key:e.id,className:"list-group-item"},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("p",null," ",e.title," "),o.a.createElement("p",null," ",e.vote_average," "))))))))}}class p extends o.a.Component{render(){const e=this.props,t=e.movies,a=e.appThis,s=e.removeMovieFromWillWatch,l=e.removeMovie,c=e.addMovieToWillWatch;return o.a.createElement("div",{className:"col-8 col-sm-9"},o.a.createElement("div",{className:"row"},t.map(e=>o.a.createElement("div",{className:"offset-1 col-10 offset-sm-0 col-sm-6 mt-4",key:e.id},o.a.createElement(n,{movie:e,removeMovie:l,appThis:a,addMovieToWillWatch:c,removeMovieFromWillWatch:s})))))}}var h=v;a(10);c.a.render(o.a.createElement(h,null),document.getElementById("root"))},2:function(e,t,a){e.exports=a(11)},9:function(e,t,a){}},[[2,1,2]]]);
//# sourceMappingURL=main.b0f9672d.chunk.js.map