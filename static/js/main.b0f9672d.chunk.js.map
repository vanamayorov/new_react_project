{"version":3,"sources":["components/MovieItem.js","utils/api.js","components/MovieTabs.js","components/App.js","index.js"],"names":["MovieItem","React","Component","constructor","super","this","state","willWatch","render","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","API_URL","API_KEY_3","MovieTabs","sort_by","updateSortBy","page","updatePage","data","handleClick","value","getClassLink","style","fontSize","pagePlus","total_pages","cursor","App","updateMovies","movies","filter","item","id","updateMoviesWillWatch","moviesWillWatch","componentDidMount","fetch","then","response","console","log","json","results","componentDidUpdate","prevProps","prevState","appThis","length","map","key","MovieList","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b0f9672d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      willWatch: false\r\n    };\r\n  }\r\n  render() {\r\n    const {\r\n      movie,\r\n      removeMovie,\r\n      addMovieToWillWatch,\r\n      removeMovieFromWillWatch\r\n    } = this.props;\r\n\r\n    \r\n\r\n    // console.log(\"appThis\", appThis, \"single movie\", movie);\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\r\n            movie.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{movie.title}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n          </div>\r\n\r\n          <div className=\"d-flex justify-content-end align-items-center mt-3\">\r\n            {/* {this.state.showInfo ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary btn-sm mr-4\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    showInfo: !this.state.showInfo\r\n                  });\r\n                }}\r\n              >\r\n                Hide\r\n              </button>\r\n            ) : (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary btn-sm mr-4\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    showInfo: !this.state.showInfo\r\n                  });\r\n                }}\r\n              >\r\n                Show\r\n              </button>\r\n            )} */}\r\n\r\n            {this.state.willWatch ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger btn-sm\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: false\r\n                  });\r\n                  removeMovieFromWillWatch(movie);\r\n                }}\r\n              >\r\n                Remove Watch\r\n              </button>\r\n            ) : (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success btn-sm\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: true\r\n                  });\r\n                  addMovieToWillWatch(movie);\r\n                }}\r\n              >\r\n                Add Watch\r\n              </button>\r\n            )}\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-danger btn-sm mx-2\"\r\n              //   onClick={ () => {console.log(this)} }\r\n              onClick={() => removeMovie(movie)}\r\n              //   onClick={removeMovie(this, movie) }\r\n            >\r\n              <span className=\"material-icons\">delete_forever</span>\r\n            </button>\r\n          </div>\r\n          {/* {this.state.showInfo ? (\r\n            <p className=\"mt-3\" style={{ color: \"grey\" }}>\r\n              {movie.overview}\r\n            </p>\r\n          ) : null} */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from \"react\";\r\n\r\nconst MovieTabs = props => {\r\n  const { sort_by, updateSortBy, page, updatePage, data } = props;\r\n  const handleClick = value => {\r\n    return () => {\r\n      updateSortBy(value);\r\n    };\r\n  };\r\n\r\n  const pageMinus = value => {\r\n    return () => {\r\n      if (value === 1) {\r\n        return false;\r\n      } else {\r\n        updatePage(value - 1);\r\n      }\r\n    };\r\n  };\r\n\r\n  const pagePlus = value => {\r\n    return () => {\r\n      updatePage(value + 1);\r\n    };\r\n  };\r\n\r\n  const firstPage = () => {\r\n    return () => {\r\n      updatePage(1);\r\n    };\r\n  };\r\n\r\n  const getClassLink = value => {\r\n    return `nav-link ${sort_by === value ? \"active\" : \"\"}`;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex align-items-center mb-3\">\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className={`btn\r\n          ${page === 1 ? \"btn-secondary disabled\" : \"btn-dark\"}`}\r\n            onClick={firstPage()}\r\n          >\r\n            First Page\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className={`btn  mx-3\r\n          ${page === 1 ? \"btn-secondary disabled\" : \"btn-primary\"}`}\r\n            onClick={pageMinus(page)}\r\n          >\r\n            Previous\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"d-flex align-items-center\" style={{ fontSize: \"16px\" }}>\r\n          <p className=\"mx-3 pt-2\">Current Page: {page}</p>\r\n        </div>\r\n        <div className=\"ml-4\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary mx-3\"\r\n            onClick={pagePlus(page)}\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n        <p className=\"pt-2\">Total Pages: {data.total_pages}</p>\r\n      </div>\r\n\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"popularity.desc\")}\r\n            onClick={handleClick(\"popularity.desc\")}\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            Popularity desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"revenue.desc\")}\r\n            onClick={handleClick(\"revenue.desc\")}\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"vote_average.desc\")}\r\n            onClick={handleClick(\"vote_average.desc\")}\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            Vote average desc\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\n// import { moviesData } from \"../moviesData\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\r\nimport MovieTabs from \"./MovieTabs\";\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      sort_by: \"popularity.desc\",\r\n      page: 1,\r\n      data: \"\"\r\n    };\r\n\r\n    // this.removeMovie = this.removeMovie.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    fetch(\r\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}&region=ru`\r\n    )\r\n      .then(response => {\r\n        console.log(\"response\", response);\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        console.log(\"data\", data);\r\n        console.log(\"page\", data.page);\r\n\r\n        this.setState({\r\n          movies: data.results,\r\n          data: data\r\n        });\r\n      });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      prevState.sort_by !== this.state.sort_by ||\r\n      prevState.page !== this.state.page\r\n    ) {\r\n      fetch(\r\n        `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}&region=ru`\r\n      )\r\n        .then(response => {\r\n          console.log(\"response\", response);\r\n          return response.json();\r\n        })\r\n        .then(data => {\r\n          console.log(\"data\", data);\r\n          console.log(\"page\", data.page);\r\n\r\n          this.setState({\r\n            movies: data.results,\r\n            data: data\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  updatePage = value => {\r\n    this.setState({\r\n      page: value\r\n    });\r\n  };\r\n\r\n  // previousPage = () => {\r\n  //   const reducePageNumber = this.state.page;\r\n  //   this.setState({\r\n  //     page: reducePageNumber - 1\r\n  //   });\r\n  //   this.componentDidMount();\r\n  // };\r\n\r\n  removeMovie = movie => {\r\n    const updateMovies = this.state.movies.filter(item => {\r\n      return item.id !== movie.id;\r\n    });\r\n    this.setState({\r\n      movies: updateMovies\r\n    });\r\n    this.removeMovieFromWillWatch(movie);\r\n  };\r\n\r\n  addMovieToWillWatch = movie => {\r\n    // console.log(movie);\r\n    // this.state.moviesWillWatch.push(movie);\r\n    // const updateMoviesWillWatch = [...this.state.moviesWillWatch];\r\n    // updateMoviesWillWatch.push(movie);\r\n\r\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch, movie];\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n  removeMovieFromWillWatch = movie => {\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(item => {\r\n      return item.id !== movie.id;\r\n    });\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  updateSortBy = value => {\r\n    this.setState({\r\n      sort_by: value\r\n    });\r\n  };\r\n\r\n  render() {\r\n    // console.log(\"App this\", this.state.movies[1].title);\r\n    // console.log(this.updatePage);\r\n    console.log(this.state.page);\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-12 mb-4\">\r\n            <MovieTabs\r\n              sort_by={this.state.sort_by}\r\n              updateSortBy={this.updateSortBy}\r\n              page={this.state.page}\r\n              updatePage={this.updatePage}\r\n              data={this.state.data}\r\n            />\r\n          </div>\r\n          <MovieList\r\n            movies={this.state.movies}\r\n            appThis={this}\r\n            addMovieToWillWatch={this.addMovieToWillWatch}\r\n            removeMovieFromWillWatch={this.removeMovieFromWillWatch}\r\n            removeMovie={this.removeMovie}\r\n          />\r\n          <div className=\"col-4 col-sm-3 mt-4\">\r\n            <h4>\r\n              Will Watch: {this.state.moviesWillWatch.length}\r\n              <br /> movies\r\n            </h4>\r\n            <ul className=\"list-group\">\r\n              {this.state.moviesWillWatch.map(movie => (\r\n                <li key={movie.id} className=\"list-group-item\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p> {movie.title} </p>\r\n                    <p> {movie.vote_average} </p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass MovieList extends React.Component {\r\n  render() {\r\n    const {\r\n      movies,\r\n      appThis,\r\n      removeMovieFromWillWatch,\r\n      removeMovie,\r\n      addMovieToWillWatch\r\n    } = this.props;\r\n    // console.log(\"MovieList movies\", movies, removeMovie);\r\n    return (\r\n      <div className=\"col-8 col-sm-9\">\r\n        <div className=\"row\">\r\n          {movies.map(movie => {\r\n            return (\r\n              <div\r\n                className=\"offset-1 col-10 offset-sm-0 col-sm-6 mt-4\"\r\n                key={movie.id}\r\n              >\r\n                <MovieItem\r\n                  movie={movie}\r\n                  removeMovie={removeMovie}\r\n                  appThis={appThis}\r\n                  addMovieToWillWatch={addMovieToWillWatch}\r\n                  removeMovieFromWillWatch={removeMovieFromWillWatch}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// function App() {\r\n//   return <div>Hello React !</div>;\r\n// }\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}